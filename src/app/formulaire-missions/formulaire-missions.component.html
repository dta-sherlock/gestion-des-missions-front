<div class="container">
  <h2>Demande de mission</h2>
  <form (ngSubmit)="handleSubmit()" name="formeAjout" [formGroup]="missionForm">
    <div class="row">
      <label class="col-5">Date de début : </label>

      <!-- REPARER ERREUR DU AUX CHANGEMENT FORMATS DATES-->
      <input class="form-control col-7" formControlName="dateDebut" type="date" name="dateDebut" (ngModelChange)="setDateDebutFormated($event)"
        [ngModel]="mission.dateDebut | date:'yyyy-MM-dd'">
      <div *ngIf="dateDebutCtrl.dirty && dateDebutCtrl.hasError('isGoodDateDebut')">
        <p>La date n'est pas valide</p>
      </div>
    </div>
    <div class="row">
      <label class="col-5">Date de fin : </label>
      <input class="form-control col-7" formControlName="dateFin" type="date" name="dateFin" (ngModelChange)="setDateFinFormated($event)"
        [ngModel]="mission.dateFin | date:'yyyy-MM-dd'">
    </div>
    <!-- REPARER ERREUR DU AUX CHANGEMENT FORMATS DATES-->

    <div class="row">
      <label class="col-5">Nature : </label>
      <select formControlName="nature" class="form-control col-7" [(ngModel)]="mission.nature">
        <option> conseil </option>
        <option> expertise technique </option>
        <option> formation </option>
      </select>
    </div>
    <div class="row">
      <label class="col-5">Ville de départ : </label>
      <input formControlName="villeDeDepart" class="form-control col-7" name="villeDeDepart" [(ngModel)]="mission.villeDeDepart">
    </div>
    <div class="row">
      <label class="col-5">Ville d'arrivée : </label>
      <input formControlName="villeDArrivee" class="form-control col-7" name="villeDArrivee" [(ngModel)]="mission.villeDArrivee">
    </div>
    <div class="row">
      <label class="col-5">Transport : </label>
      <select formControlName="transport" class="form-control col-7" [(ngModel)]="mission.transport">
        *ngFor="let item of transports">
        <option *ngFor="let item of transports"> {{item}}</option>

      </select>
    </div>
    <div class="row">
      <label class="col-5">Estimation prime : </label>
      <input formControlName="prime" class="form-control col-7" name="prime" [(ngModel)]="mission.prime">
    </div>
    <div class="row">
      <button class="btn btn-danger col-3 offset-5" (click)="navigateToMissions()">Annuler</button>
      <button class="btn btn-success col-3" type="submit" [disabled]="missionForm.invalid">Valider</button>
    </div>
  </form>
</div>